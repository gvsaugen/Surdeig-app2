
<!DOCTYPE html>

<html lang="no">
<head>
<meta charset="utf-8"/>
<title>Surdeigsbr√∏d Kalkulator</title>
<style>
        body {
            font-family: 'Segoe UI', sans-serif;
            margin: 0;
            padding: 0;
            background: #fdfaf6;
            color: #333;
        }
        .container {
            display: flex;
            flex-wrap: wrap;
            padding: 20px;
        }
        .half {
            flex: 1;
            min-width: 300px;
            padding: 20px;
        }
        h2 {
            color: #5a3e2b;
        }
        label {
            display: block;
            margin-top: 10px;
        }
        input[type="number"], input[type="checkbox"] {
            margin-top: 5px;
            padding: 5px;
            width: 100%;
        }
        #instructions {
            background: #fff8f0;
            padding: 20px;
            border-radius: 8px;
            margin: 20px;
        }
    </style>
</head>
<body style="font-family: 'Segoe UI', sans-serif; background-color: #f4f4f8; margin: 0; padding: 20px;"><div id="mel-warning" style="display:none; color:red; font-weight:bold; margin-top:10px;"></div>
<div class="container">
<div class="half" id="input-section">
<h2>üìù Oppskrift</h2>
<label>Antall br√∏d: <input id="antall" type="number" value="2"/></label>
<label>Vekt per br√∏d (g): <input id="vekt" type="number" value="800"/></label>
<label>Hydrasjon (%): <input id="hydrasjon" type="number" value="75"/></label>
<label>Hevetid i romtemperatur (timer): <input id="hevetid_rom" type="number" value="4"/></label>
<label>Hevetid i kj√∏leskap (timer): <input id="hevetid_kald" type="number" value="16"/></label>
<label><input id="autolyse" type="checkbox"/> Autolyse</label>
<label><input id="fermentolyse" type="checkbox"/> Fermentolyse</label>
</div>
<div class="half" id="output-section">
<h2>üìä Ingredienser</h2>
<div id="beregning">Fyll inn verdier for √• se beregning.</div>
</div>
</div>
<div id="instructions">
<h2>üìã Instruksjoner</h2>
<div id="instruksjoner">Instruksjoner vil vises her.</div>
</div>
<script>
        function oppdaterInstruksjoner() {
            const autolyse = document.getElementById("autolyse").checked;
            const fermentolyse = document.getElementById("fermentolyse").checked;
            const hevetidRom = parseInt(document.getElementById("hevetid_rom").value) || 0;
            const hevetidKald = parseInt(document.getElementById("hevetid_kald").value) || 0;

            let instr = [];

            if (autolyse) {
                instr.push("Bland mel og vann, la st√• i 1 time for autolyse.");
            }
            if (fermentolyse) {
                instr.push("Tilsett surdeigsstarter og vann, la st√• i 1 time for fermentolyse.");
            }

            instr.push("Tilsett salt og surdeigsstarter, bland godt.");
            instr.push("Utf√∏r strekk og fold hver 30. minutt i de f√∏rste 2 timene.");
            instr.push(`La deigen hvile og heve i romtemperatur i ca. ${hevetidRom} timer.`);
            instr.push("Form br√∏dene og legg dem i hevekurver.");
            instr.push(`Sett i kj√∏leskap for kaldheving i ca. ${hevetidKald} timer.`);
            instr.push("Stek br√∏dene direkte fra kj√∏leskap p√• 230¬∞C i 40‚Äì45 minutter.");

            document.getElementById("instruksjoner").innerHTML = "<ul><li>" + instr.join("</li><li>") + "</li></ul>";
        }

        document.querySelectorAll("input").forEach(el => {
            el.addEventListener("input", oppdaterInstruksjoner);
            el.addEventListener("change", oppdaterInstruksjoner);
        });

        oppdaterInstruksjoner();
    </script>
<script>
function validateMelSum() {
    const melInputs = document.querySelectorAll('.mel-input');
    let total = 0;
    melInputs.forEach(input => {
        total += parseFloat(input.value) || 0;
    });
    const warning = document.getElementById('mel-warning');
    if (total > 100) {
        warning.textContent = 'Feil: Summen av meltypene overstiger 100 % (' + total.toFixed(1) + '%).';
        warning.style.display = 'block';
    } else {
        warning.style.display = 'none';
    }
}
document.addEventListener('DOMContentLoaded', () => {
    document.querySelectorAll('.mel-input').forEach(input => {
        input.addEventListener('input', validateMelSum);
    });
});
</script>
<div style="margin-top:20px; padding:10px; background-color:#f0f8ff; border-left:5px solid #0077cc;">
<strong>‚ÑπÔ∏è Autolyse:</strong> En hvileperiode der mel og vann blandes og f√•r st√• f√∏r salt og surdeigsstarter tilsettes. Dette forbedrer deigens struktur og elastisitet.
</div>
<div style="margin-top:10px; padding:10px; background-color:#fff8dc; border-left:5px solid #cc7700;">
<strong>‚ÑπÔ∏è Fermentolyse:</strong> En metode der surdeigsstarter tilsettes samtidig med vann og mel, og f√•r hvile f√∏r salt tilsettes. Dette gir en mildere smak og effektiv fermentering.
</div>
<div style="margin-top:20px;">
<label for="start-time"><strong>Starttidspunkt:</strong></label>
<input id="start-time" onchange="updateTimeline()" type="time" value="08:00"/>
<div id="timeline-preview" style="margin-top:10px; padding:10px; background-color:#f9f9f9; border:1px solid #ccc;"></div>
</div>
<script>
function updateTimeline() {
    const startTime = document.getElementById('start-time').value;
    const timeline = document.getElementById('timeline-preview');
    if (!startTime) return;
    const [hour, minute] = startTime.split(':').map(Number);
    let steps = ['Autolyse (1t)', 'Tilsett salt og starter', 'Strekk og fold', 'Bulkfermentering', 'Forming og kaldheving', 'Steking'];
    let html = '<strong>Tidslinje:</strong><ul>';
    let h = hour, m = minute;
    steps.forEach((step, i) => {
        html += '<li>' + step + ' ‚Äì ' + String(h).padStart(2, '0') + ':' + String(m).padStart(2, '0') + '</li>';
        h = (h + 1) % 24;
    });
    html += '</ul>';
    timeline.innerHTML = html;
}
document.addEventListener('DOMContentLoaded', updateTimeline);
</script>
</body>
</html>
<div id="melvalg" style="margin-top: 2em;">
<h3>Velg meltyper</h3>
<p>Huk av hvilke meltyper du vil bruke. Du kan deretter justere prosentandelene.</p>
<form id="meltypeForm">
<div style="display: flex; flex-wrap: wrap; gap: 1em;">
<label><input name="meltype" type="checkbox" value="Siktet finmalt hvetemel"/> Siktet finmalt hvetemel</label>
<label><input name="meltype" type="checkbox" value="Sammalt finmalt hvetemel"/> Sammalt finmalt hvetemel</label>
<label><input name="meltype" type="checkbox" value="Sammalt grovmalt hvetemel"/> Sammalt grovmalt hvetemel</label>
<label><input name="meltype" type="checkbox" value="Siktet finmalt speltmel"/> Siktet finmalt speltmel</label>
<label><input name="meltype" type="checkbox" value="Sammalt finmalt speltmel"/> Sammalt finmalt speltmel</label>
<label><input name="meltype" type="checkbox" value="Sammalt grovmalt speltmel"/> Sammalt grovmalt speltmel</label>
<label><input name="meltype" type="checkbox" value="Siktet finmalt rugmel"/> Siktet finmalt rugmel</label>
<label><input name="meltype" type="checkbox" value="Sammalt finmalt rugmel"/> Sammalt finmalt rugmel</label>
<label><input name="meltype" type="checkbox" value="Sammalt grovmalt rugmel"/> Sammalt grovmalt rugmel</label>
<label><input name="meltype" type="checkbox" value="Havregryn"/> Havregryn</label>
<label><input name="meltype" type="checkbox" value="Fr√∏"/> Fr√∏</label>
<label><input name="meltype" type="checkbox" value="Korn"/> Korn</label>
</div>
</form>
<div id="prosentRedigering" style="margin-top: 1em;">
<h4>Prosentandel av valgte meltyper</h4>
<div id="prosentInputs"></div>
</div>
</div>
<script>
document.querySelectorAll('input[name="meltype"]').forEach(function(checkbox) {
  checkbox.addEventListener('change', function() {
    const container = document.getElementById("prosentInputs");
    container.innerHTML = "";
    document.querySelectorAll('input[name="meltype"]:checked').forEach(function(cb) {
      const label = cb.value;
      const input = document.createElement("input");
      input.type = "number";
      input.min = "0";
      input.max = "100";
      input.value = "0";
      input.name = label;
      input.style.marginRight = "1em";
      input.style.width = "60px";
      const span = document.createElement("span");
      span.textContent = label + ": ";
      const div = document.createElement("div");
      div.appendChild(span);
      div.appendChild(input);
      container.appendChild(div);
    });
  });
});
</script>
